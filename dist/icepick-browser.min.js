/*!
 * The MIT License
 * 
 * Copyright (c) 2017 Alex Early
 * https://github.com/aearly/icepick
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.icepick=n():r.icepick=n()}(this,function(){return function(r){function n(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=r,n.c=t,n.d=function(r,t,e){n.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},n.p="",n(n.s=0)}([function(r,n,t){"use strict";(function(r){function t(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}function e(r,n){return(n||[]).reduce(function(r,n){if(r)return r[n]},r)}function o(r,n){return Object.keys(n).reduce(function(r,t){return f.assoc(r,t,n[t])},r)}function i(n,t,e){return null==n||null==t?n:Object.keys(t).reduce(function(n,o){var c=t[o],s=n[o],l=e?e(s,c,o):c;return a(c)&&a(s)?l===s&&("production"===r.env.NODE_ENV||Object.isFrozen(l)&&Object.isFrozen(s))?n:Array.isArray(c)?f.assoc(n,o,l):u(n,o,i(s,l,e)):u(n,o,l)},n)}function u(r,n,t){return r[n]===t?r:f.assoc(r,n,t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f=n,s=function(r){return r},a=function(r){return null!==r&&(Array.isArray(r)||l(r))},l=function(r){return"object"===(void 0===r?"undefined":c(r))&&r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype},p=function(r,n){var t=void 0,e=void 0;if(Array.isArray(r))for(t=r.length;t--;)n(t);else for(e=Object.keys(r),t=e.length;t--;)n(e[t])},y=function(r){for(var n={},t=Object.keys(r),e=t.length,o=void 0;e--;)o=t[e],n[o]=r[o];return n},h=function(r){return Array.isArray(r)?r.slice():y(r)},v="production"===r.env.NODE_ENV?s:function(r){return a(r)&&!Object.isFrozen(r)?b(r):r},d="production"===r.env.NODE_ENV?s:function(r){return"object"===(void 0===r?"undefined":c(r))?Object.freeze(r):r},m=[],b=function r(n){if(m.some(function(r){return r===n}))throw new Error("object has a reference cycle");return m.push(n),p(n,function(t){var e=n[t];a(e)&&r(e)}),m.pop(),Object.freeze(n),n};n.freeze="production"===r.env.NODE_ENV?s:b,n.thaw=function r(n){if(!a(n)||!Object.isFrozen(n))return n;var t=Array.isArray(n)?new Array(n.length):{};return p(n,function(e){t[e]=r(n[e])}),t},n.assoc=function(r,n,t){if(r[n]===t)return d(r);var e=h(r);return e[n]=v(t),d(e)},n.set=n.assoc,n.dissoc=function(r,n){var t=h(r);return delete t[n],d(t)},n.unset=n.dissoc,n.assocIn=function r(n,t,e){var o=t[0];return 1===t.length?f.assoc(n,o,e):f.assoc(n,o,r(n[o]||{},t.slice(1),e))},n.setIn=n.assocIn,n.getIn=e,n.updateIn=function(r,n,t){var o=e(r,n);return f.assocIn(r,n,t(o))},["push","unshift","pop","shift","reverse","sort"].forEach(function(r){n[r]=function(n,e){var o=[].concat(t(n));return o[r](v(e)),d(o)},n[r].displayName="icepick."+r}),n.splice=function(r){for(var n=[].concat(t(r)),e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var u=o.map(v);return n.splice.apply(n,u),d(n)},n.slice=function(r,n,t){var e=r.slice(n,t);return d(e)},["map","filter"].forEach(function(r){n[r]=function(n,t){var e=t[r](n);return d(e)},n[r].displayName="icepick."+r}),n.extend=n.assign=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];var i=t.reduce(o,r);return d(i)},n.merge=i;var g={value:function(){return this.val},thru:function(r){return this.val=v(r(this.val)),this}};Object.keys(n).forEach(function(r){g[r]=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return e.unshift(this.val),this.val=n[r].apply(null,e),this}}),n.chain=function(r){var n=Object.create(g);return n.val=r,n},"development"!==r.env.NODE_ENV&&"production"!==r.env.NODE_ENV&&(n._weCareAbout=a)}).call(n,t(1))},function(r,n){function t(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(r){if(a===setTimeout)return setTimeout(r,0);if((a===t||!a)&&setTimeout)return a=setTimeout,setTimeout(r,0);try{return a(r,0)}catch(n){try{return a.call(null,r,0)}catch(n){return a.call(this,r,0)}}}function i(r){if(l===clearTimeout)return clearTimeout(r);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(r);try{return l(r)}catch(n){try{return l.call(null,r)}catch(n){return l.call(this,r)}}}function u(){v&&y&&(v=!1,y.length?h=y.concat(h):d=-1,h.length&&c())}function c(){if(!v){var r=o(u);v=!0;for(var n=h.length;n;){for(y=h,h=[];++d<n;)y&&y[d].run();d=-1,n=h.length}y=null,v=!1,i(r)}}function f(r,n){this.fun=r,this.array=n}function s(){}var a,l,p=r.exports={};!function(){try{a="function"==typeof setTimeout?setTimeout:t}catch(r){a=t}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(r){l=e}}();var y,h=[],v=!1,d=-1;p.nextTick=function(r){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];h.push(new f(r,n)),1!==h.length||v||o(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(r){return[]},p.binding=function(r){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(r){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}])});